import{o as l,c as n,a as t,b as u}from"./app.22e59867.js";const d='{"title":"Общая информация о API НЛМК Connect","description":"","frontmatter":{},"relativePath":"api/index.md","lastUpdated":1639739303768}',e={},r=t("h1",{id:"общая-информация-о-api-нлмк-connect"},[t("a",{class:"header-anchor",href:"#общая-информация-о-api-нлмк-connect","aria-hidden":"true"},"#"),u(" Общая информация о API НЛМК Connect")],-1),o=t("p",null,"В данной инструкции описаны шаги подключения информационной (автоматизированной) системы (далее - ИС) клиента к сервису API НЛМК Connect и работа с ним.",-1),c=t("div",{class:"tip custom-block"},[t("p",{class:"custom-block-title"},"API НЛМК Connect"),t("p",null,"Это сервис, с помощью которого покупатель может получить информацию о закупленной продукции в свои учётные системы и системы складского учёта посредством интеграционного API")],-1),p=t("p",null,"Модель бизнес-процесса приведена на следующем рисунке",-1),a=t("p",null,[t("img",{src:"/assets/01.0a33de6f.jpeg",alt:"Модель бизнес-процесса «Получение покупателем информации по характеристикам отгруженной продукции через API»"}),t("a",{href:"https://doc.nlmk.online/images/api/01.jpeg",target:"_blank",rel:"noopener noreferrer"},"Открыть изображение в полном размере"),u(" (файл jpg, 260кб)")],-1),P=t("p",null,"Таблица 2.1 Шаги бизнес-процесса «Получение покупателем информации по характеристикам отгруженной продукции через API»",-1),s=t("table",null,[t("thead",null,[t("tr",null,[t("th",null,"№ п/п"),t("th",null,"Наименование шага"),t("th",null,"Участники"),t("th",null,"Входные данные"),t("th",null,"Выходные данные"),t("th",null,"Описание")])]),t("tbody",null,[t("tr",null,[t("td",null,"1"),t("td",null,"Направить запрос на получение информации по продукции (Вне рамок системы)"),t("td",null,"АС покупателя продукции Группы компаний НЛМК"),t("td",null,"QR-код продукции НЛМК (бирки/этикетки/сертификата)"),t("td",null,"Запрос на получение данных по QR-коду"),t("td",null,"АС покупателя, направляет запрос в НЛМК Connect на получение данных по QR-коду")]),t("tr",null,[t("td",null,"2"),t("td",null,"Авторизация АС покупателя по протоколу oauth2"),t("td",null,"НЛМК Connect"),t("td",null,"Данные покупателя в составе: идентификатор клиента OAuth, зарегистрированный в Commerce, секрет клиента, логин клиента Commerce, пароль клиента Commerce."),t("td",null,"Результат прохождения авторизации (успешно/неуспешно)"),t("td",null,[u("АС покупателя "),t("a",{href:"/api/methods.html#аутентификация-и-токен-доступа"},"проходит аутентификацию по протоколу OAuth 2.0")])]),t("tr",null,[t("td",null,"3"),t("td",null,"Проверить легитимность запрашиваемой информации"),t("td",null,"НЛМК Connect"),t("td",null,"Данные покупателя"),t("td",null,"Результат выполнения проверки (успешна/неуспешна)"),t("td",null,"НЛМК Connect выполняет проверку легитимности запрошенных данных (логин от учетной записи Commerce, принадлежность данных, содержащихся в запрашиваемом QR-коде к учетной записи)")]),t("tr",null,[t("td",null,"4"),t("td",null,"Направить запрос информации в EDP"),t("td",null,"НЛМК Connect"),t("td",null,"Запрос на получение данных по QR-коду"),t("td",null,"Запрос на получение данных по QR-коду"),t("td",null,"НЛМК Connect маршрутизирует запрос на получение данных по QR-коду в Сервисную платформу (EDP)")]),t("tr",null,[t("td",null,"5"),t("td",null,"Сформировать данные СК для передачи на основе информации, полученной из SAP"),t("td",null,"Сервисная платформа (EDP)"),t("td",null,"Запрос с QR-кодом, данные по продукции, полученные из SAP"),t("td",null,"Данные по СК"),t("td",null,"Сервисная платформа (EDP) анализирует поступивший запрос, осуществляет по QR-коду поиск данных, переданных из SAP, формирует набор данных по СК")]),t("tr",null,[t("td",null,"6"),t("td",null,"Сформировать данные ЕП для передачи на основе информации, полученной из SAP"),t("td",null,"Сервисная платформа (EDP)"),t("td",null,"Запрос с QR-кодом, данные по продукции, полученные из SAP"),t("td",null,"Данные по ЕП"),t("td",null,"Сервисная платформа (EDP) анализирует поступивший запрос, осуществляет по QR-коду поиск данных, переданных из SAP, формирует набор данных по ЕП")]),t("tr",null,[t("td",null,"7"),t("td",null,"Запросить ссылку на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"Сервисная платформа (EDP)"),t("td",null,"Запрос на pdf-файл СК"),t("td",null,"Запрос ссылки на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"Сервисная платформа (EDP) направляет в SAP ERP запрос на ссылку скан-копии или pdf-файл с ЭЦП СК")]),t("tr",null,[t("td",null,"8"),t("td",null,"Предоставить ссылку на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"SAP ERP"),t("td",null,"Запрос ссылки на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"Ссылка на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"SAP ERP по запросу выполняет проверку необходимости авторизованного доступа и, в случае отсутствия такой необходимости, передает в Сервисную платформу (EDP) ссылку на скан-копию или pdf- файл с ЭЦП СК")]),t("tr",null,[t("td",null,"9"),t("td",null,"Проверка «customerId»"),t("td",null,"НЛМК Connect"),t("td",null,'Значение «customerId» полученное из EDP, значение "customerId" полученное из Commerce'),t("td",null,"Результат проверки (успешна/неуспешна)"),t("td",null,"НЛМК Connect выполняет проверку соответствия значения «customerId», полученного из EDP (что значение в SAP) значению «customerId», которое поступило из Commerce. Для того, чтобы понимать, может ли АС покупателя видеть запрошенные данные. Проверка считается успешной, если сравниваемые значения одинаковые.")]),t("tr",null,[t("td",null,"10"),t("td",null,"Передать полученную из EDP информацию по ЕП, СК или ссылку для скачивания pdf СК"),t("td",null,"НЛМК Connect"),t("td",null,"Проверка «customerId» успешна, данные по СК или данные по ЕП или ссылка на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"Проверка «customerId» успешна, данные по СК или данные по ЕП или ссылка на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"НЛМК Connect маршрутизирует полученные из Сервисной платформы (EDP) данные в АС покупателя")]),t("tr",null,[t("td",null,"11"),t("td",null,"Получить информацию по ЕП или СК"),t("td",null,"АС покупателя продукции Группы компаний НЛМК"),t("td",null,"Данные по СК, или данные по ЕП"),t("td",null,"Данные по СК, или данные по ЕП"),t("td",null,[u("АС покупателя получила запрошенные данные в составе тегов, описанных в "),t("a",{href:"https://doc.nlmk.online/Product_API_Data_Specification.xlsx",target:"_blank",rel:"noopener noreferrer"},"Приложение 1. Описание перечня передаваемых НЛМК Connect тегов")])]),t("tr",null,[t("td",null,"12"),t("td",null,"Инициировать загрузку скан-копии или pdf-файла с ЭЦП СК (Вне рамок системы)"),t("td",null,"АС покупателя продукции Группы компаний НЛМК"),t("td",null,"Ссылка на скан-копию или pdf-файл с ЭЦП СК"),t("td",null,"Запрос на загрузку pdf-файл СК по указанной ссылке"),t("td",null,"АС покупателя направляет в OpenText запрос на загрузку pdf-файл СК по полученной от НЛМК Connect ссылке")]),t("tr",null,[t("td",null,"13"),t("td",null,"Предоставить запрашиваемый файл"),t("td",null,"OpenText"),t("td",null,"Запрос на загрузку pdf-файл СК по указанной ссылке"),t("td",null,"Переданный в АС покупателя pdf-файл СК"),t("td",null,"OpenText передает АС покупателя запрошенный pdf-файл")]),t("tr",null,[t("td",null,"14"),t("td",null,"Сформировать сообщение об ошибке"),t("td",null,"НЛМК Connect"),t("td",null,"Авторизация неуспешна, и/или проверка легитимности запроса покупателя неуспешна, и/или информация об отсутствии запрашиваемых данных в EDP, и/или информация о необходимости авторизации для получения ссылки на pdf сертификата, и/или проверка «customerId» не успешна"),t("td",null,"Информационное сообщение об ошибке"),t("td",null,"НЛМК Connect формирует и передает АС покупателя информационное сообщение об ошибке")])])],-1);e.render=function(t,u,d,e,m,f){return l(),n("div",null,[r,o,c,p,a,P,s])};export default e;export{d as __pageData};
